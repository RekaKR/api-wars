(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{104:function(e,t,n){},123:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),i=n.n(r),s=(n(104),n(11)),l=n(20),o=n.n(l),j=n(25),d=n(14),u=(n(123),n(2)),b=function(e){var t=e.username;return Object(u.jsx)("a",{children:t&&0!==t.length?"Signed in as : ".concat(t):""})},h=function(e){return Object(u.jsx)("div",{className:"navigationBar",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{to:"/home",children:"Planet list"})}),Object(u.jsx)("li",{children:e.username?Object(u.jsx)(j.b,{to:"/voting",children:"Voting statistics"}):""}),Object(u.jsx)("li",{children:e.username?"":Object(u.jsx)(j.b,{to:"/register",children:"Registration"})}),Object(u.jsx)("li",{children:e.username?"":Object(u.jsx)(j.b,{to:"/login",children:"Login"})}),Object(u.jsx)("li",{children:e.username?Object(u.jsx)(j.b,{to:"/user",children:"My account"}):""}),Object(u.jsx)("li",{children:e.username?Object(u.jsx)(j.b,{to:"/logout",children:"Logout"}):""}),Object(u.jsx)("li",{children:Object(u.jsx)(b,{username:e.username})})]})})},O=n(165),m=n(182),x=n(180),f=n(170),g=n(179),p=n(87),v=n.n(p),w=n(171),y=n(168),S=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,marginTop:20},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function N(){var e=S(),t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),l=Object(s.a)(i,2),j=l[0],b=l[1],h=Object(a.useState)(!1),O=Object(s.a)(h,2),p=O[0],N=O[1],k=Object(a.useState)(""),C=Object(s.a)(k,2),T=C[0],E=C[1],P=Object(d.f)();return Object(a.useEffect)((function(){"Successful registration. Log in to continue."===T&&setTimeout((function(){P.push("/login")}),1e3)}),[T]),Object(u.jsxs)(y.a,{className:"RegisterContainer",component:"main",maxWidth:"xs",children:[Object(u.jsx)(f.a,{}),Object(u.jsxs)("div",{className:e.paper,children:[Object(u.jsx)(m.a,{className:e.avatar,children:Object(u.jsx)(v.a,{})}),Object(u.jsx)(w.a,{className:"LoginTypography",component:"h1",variant:"h5",children:"Register"}),T?Object(u.jsx)(w.a,{color:"secondary",children:T}):"",Object(u.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(u.jsx)(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"userName",label:"Username",name:"userName",onChange:function(e){return r(e.target.value)},required:!0}),Object(u.jsx)(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",type:"password",name:"password",label:"Password",onChange:function(e){return b(e.target.value)},required:!0}),Object(u.jsx)(x.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){c&&j?o()({method:"POST",data:{username:c,password:j},withCredentials:!0,url:"http://localhost:8000/register"}).then((function(e){return E(e.data)})).then((function(){return N(!1)})):N(!0)},className:e.submit,children:"Register"})]}),p?Object(u.jsx)(w.a,{color:"secondary",children:"Please, fill in both fields."}):""]}),Object(u.jsxs)("div",{children:["Already have an account? ",Object(u.jsx)("a",{href:"/login",children:" Login!"})]})]})}var k=n(88),C=n.n(k),T=n(181),E=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,marginTop:20},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function P(){var e=E(),t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),l=Object(s.a)(i,2),j=l[0],h=l[1],O=Object(a.useState)(!1),p=Object(s.a)(O,2),v=p[0],S=p[1],N=Object(a.useState)(""),k=Object(s.a)(N,2),P=k[0],W=k[1],L=Object(a.useState)(""),B=Object(s.a)(L,2),V=B[0],F=B[1];Object(d.f)();return Object(a.useEffect)((function(){P&&"Succesfully authenticated."===P.data.message&&(F("Signed in ".concat(P.data.user.username," !")),setTimeout((function(){window.location.href="/home"}),1e3))}),[P]),Object(u.jsxs)(y.a,{className:"LoginContainer",component:"main",maxWidth:"xs",children:[Object(u.jsx)(f.a,{}),Object(u.jsxs)("div",{className:e.paper,children:[Object(u.jsx)(m.a,{className:e.avatar,children:Object(u.jsx)(C.a,{})}),Object(u.jsx)(w.a,{className:"LoginTypography",component:"h1",variant:"h5",children:"Login"}),P?Object(u.jsx)(w.a,{color:"secondary",children:P.data.message}):"",Object(u.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(u.jsx)(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"userName",label:"Username",name:"userName",onChange:function(e){return r(e.target.value)},required:!0}),Object(u.jsx)(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",type:"password",label:"Password",name:"password",onChange:function(e){return h(e.target.value)},required:!0}),Object(u.jsx)(x.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){c&&j?o()({method:"POST",data:{username:c,password:j},withCredentials:!0,url:"http://localhost:8000/login"}).then((function(e){return W(e)})).then((function(){return S(!1)})):S(!0)},className:e.submit,children:"Login"})]}),v?Object(u.jsx)(w.a,{color:"secondary",children:"Please, fill in both fields."}):""]}),Object(u.jsxs)("div",{children:["Dont have an account? ",Object(u.jsx)("a",{href:"/register",children:"Register!"})]}),Object(u.jsx)(b,{name:V},Object(T.a)())]})}var W=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){o()({method:"GET",withCredentials:!0,url:"http://localhost:8000/logout"}).then((function(e){return c(e.data)})).then((function(){console.log("logged out")}))})),Object(a.useEffect)((function(){n&&(window.location.href="/home")}),[n]),Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:n||""})})},L=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(d.f)();return Object(a.useEffect)((function(){o()({method:"GET",withCredentials:!0,url:"http://localhost:8000/user"}).then((function(e){return c(e.data.username)}))})),Object(u.jsx)("div",{className:"user",children:'"You are not logged in, please log in to view your profile."'===n?setTimeout((function(){r.push("/login")})):"Username: ".concat(n)})},B=n(60),V=n(27),F=n(62),H=(n(66),n(175)),R=n(173),_=n(174),z=n(177),D=n(176),G=n(172);var I=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{component:"th",scope:"row",children:e.planet}),Object(u.jsx)(_.a,{align:"left",children:e.vote})]})})},q=function(){var e=function(){return r(!1)},t=Object(a.useState)(!0),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({}),l=Object(s.a)(i,2),j=l[0],d=l[1];Object(a.useEffect)((function(){o()({method:"GET",withCredentials:!0,url:"http://localhost:8000/vote"}).then((function(e){return d(e.data)}))}),[]);var b=[];for(var h in j)b.push(Object(B.a)({},h,j[h]));return Object(u.jsxs)(V.a,{show:c,onHide:e,size:"lg","aria-labelledby":"contained-modal-title-vcenter",children:[Object(u.jsx)(V.a.Header,{closeButton:!0,children:Object(u.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Voting Statistic"})}),Object(u.jsxs)(V.a.Body,{className:"show-grid",children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{className:"VotingTableCell",align:"left",children:Object(u.jsx)("strong",{children:"Planet name"})}),Object(u.jsx)(_.a,{align:"left",children:Object(u.jsx)("strong",{children:"Vote count"})})]})}),Object(u.jsx)(D.a,{component:G.a,children:Object(u.jsx)(z.a,{size:"small","aria-label":"a dense table",children:b.map((function(e){return Object(u.jsx)(I,{planet:Object.keys(e),vote:Object.values(e)},Object(T.a)())}))})})]}),Object(u.jsx)(V.a.Footer,{children:Object(u.jsx)(F.a,{onClick:function(){return e()},children:"Close"})})]})},M=n(178);var U=function(e){return Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{onClick:e.clickPrev,disabled:1===e.page,className:"previous",variant:"contained",color:"primary",children:"Previous"}),Object(u.jsx)(x.a,{onClick:e.clickNext,disabled:6===e.page,className:"next",variant:"contained",color:"primary",children:"Next"})]})};var J=function(){return Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{children:["Name","Diameter","Climate","Terrain","Surface Water Percentage","Population","Residents",""].map((function(e){return Object(u.jsx)(_.a,{align:"left",children:Object(u.jsx)("strong",{children:e})},Object(T.a)())}))})})},A=function(e){return Object(u.jsxs)(x.a,{onClick:function(){console.log("Voted"),o()({method:"POST",data:{planetName:e.name},withCredentials:!0,url:"http://localhost:8000/vote"}).then((function(e){return alert(e.data)}))},variant:"contained",color:"primary",children:["Vote ",e.name]})},Y=n(69),K=n(89);var Q=function(e){return Object(u.jsx)(H.a,{colSpan:6,style:{display:"".concat(e.isShown?"none":"block")},children:Object(u.jsx)(R.a,{children:["Name","Height","Mass","Hair color","Skin color","Eye color","Birth year","Gender"].map((function(e){return Object(u.jsx)(_.a,{align:"right",children:Object(u.jsx)("strong",{children:e})},Object(T.a)())}))})})},X=n.p+"static/media/male.2e9253cf.svg",Z=n.p+"static/media/female.e90e9157.svg";var $=function(e){var t=e.row;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{component:"th",scope:"row",children:t.name}),Object(u.jsxs)(_.a,{align:"left",children:[t.height/100," m"]}),Object(u.jsx)(_.a,{align:"left",children:"unknown"===t.mass?"unknown":"".concat(t.mass,"kg")}),Object(u.jsx)(_.a,{align:"left",children:"n/a"===t.hair_color?"unknown":t.hair_color}),Object(u.jsx)(_.a,{align:"left",children:t.skin_color}),Object(u.jsx)(_.a,{align:"left",children:t.eye_color}),Object(u.jsx)(_.a,{align:"left",children:t.birth_year}),Object(u.jsx)(_.a,{align:"center",children:"n/a"===t.gender?"unknown":"male"===t.gender?Object(u.jsx)("img",{id:"male",src:X,alt:"male"}):Object(u.jsx)("img",{id:"female",src:Z,alt:"female"})})]},t.name)})},ee=Object(O.a)({table:{minWidth:700}});var te=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),l=Object(s.a)(i,2),o=l[0],j=l[1],d=ee();return Object(a.useEffect)((function(){j(!0),e.resi.map((function(e){fetch(e).then((function(e){return e.json()})).then((function(e){j(!1),r((function(t){return[].concat(Object(K.a)(t),[e])}))}))}))}),[]),Object(u.jsxs)(V.a,Object(Y.a)(Object(Y.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",children:[Object(u.jsx)(V.a.Header,{closeButton:!0,children:Object(u.jsxs)(V.a.Title,{id:"contained-modal-title-vcenter",children:["Residents of ",e.name]})}),Object(u.jsxs)(V.a.Body,{className:"show-grid",children:[Object(u.jsx)(Q,{isShown:o}),Object(u.jsx)("div",{id:"load-animation",style:{display:"".concat(o?"flex":"none")}}),Object(u.jsx)(D.a,{component:G.a,children:Object(u.jsx)(z.a,{className:d.table,size:"small","aria-label":"a dense table",children:Object(u.jsx)(M.a,{children:c.map((function(e){return Object(u.jsx)($,{row:e},Object(T.a)())}))})})})]}),Object(u.jsx)(V.a.Footer,{children:Object(u.jsx)(F.a,{onClick:e.onHide,children:"Close"})})]}))};function ne(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var ae=function(e){var t=e.row,n=e.resi,c=e.showVote,r=Object(a.useState)(!1),i=Object(s.a)(r,2),l=i[0],o=i[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(R.a,{children:[Object(u.jsx)(_.a,{component:"th",scope:"row",children:t.name}),Object(u.jsxs)(_.a,{align:"left",children:[ne(t.diameter)," km"]}),Object(u.jsx)(_.a,{align:"left",children:t.climate}),Object(u.jsx)(_.a,{align:"left",children:t.terrain}),Object(u.jsx)(_.a,{align:"left",children:"unknown"===t.surface_water?"unknown":"".concat(t.surface_water,"%")}),Object(u.jsx)(_.a,{align:"left",children:"unknown"===t.population?"unknown":"".concat(ne(t.population)," people")}),Object(u.jsx)(_.a,{align:"left",children:0===t.residents.length?"No known residents":Object(u.jsxs)(x.a,{onClick:function(){return o(!0)},variant:"contained",color:"primary",children:[t.residents.length," resident(s)"]})}),Object(u.jsx)(_.a,{align:"left",children:c?Object(u.jsx)(A,{name:t.name}):""})]}),l?Object(u.jsx)(te,{show:l,onHide:function(){return o(!1)},name:t.name,resi:n}):""]})},ce=(n(134),Object(O.a)({table:{minWidth:650}}));var re=function(e){var t=ce(),n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)(1),o=Object(s.a)(l,2),j=o[0],d=o[1],b=Object(a.useState)(!1),h=Object(s.a)(b,2),O=h[0],m=h[1],x=document.getElementById("root");return Object(a.useEffect)((function(){j>=1&&(x.style.opacity="0.7",m(!0),fetch("https://swapi.dev/api/planets/?page=".concat(j)).then((function(e){return e.json()})).then((function(e){x.style.opacity="1",m(!1),i(e.results)})))}),[j]),Object(u.jsxs)("div",{className:"starWarsTable",children:[Object(u.jsx)("h1",{children:"Star Wars universe planets"}),Object(u.jsx)(U,{clickNext:function(){return d(j<6?j+1:6)},clickPrev:function(){return d(j>1?j-1:1)},page:j}),Object(u.jsx)("div",{id:"load-animation",style:{display:"".concat(O?"flex":"none")}}),Object(u.jsx)(D.a,{component:G.a,children:Object(u.jsxs)(z.a,{className:t.table,size:"small","aria-label":"a dense table",children:[Object(u.jsx)(J,{}),Object(u.jsx)(M.a,{children:r.map((function(t){return Object(u.jsx)(ae,{row:t,resi:t.residents,showVote:e.username},Object(T.a)())}))})]})})]})};n(135);var ie=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){o()({method:"GET",withCredentials:!0,url:"http://localhost:8000/home"}).then((function(e){return c(e.data.username)}))})),Object(u.jsx)(j.a,{children:Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(h,{username:n}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{path:"/register",children:Object(u.jsx)(N,{})}),Object(u.jsx)(d.a,{path:"/login",children:Object(u.jsx)(P,{})}),Object(u.jsx)(d.a,{path:"/logout",children:Object(u.jsx)(W,{})}),Object(u.jsx)(d.a,{path:"/user",children:Object(u.jsx)(L,{})}),Object(u.jsx)(d.a,{path:"/voting",children:Object(u.jsx)(q,{})}),Object(u.jsx)(d.a,{path:"/home",children:Object(u.jsx)(re,{username:n})})]})})]})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(ie,{})}),document.getElementById("root")),se()}},[[136,1,2]]]);
//# sourceMappingURL=main.74b19c23.chunk.js.map